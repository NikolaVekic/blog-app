<%- include("partials/header") %>

<!-- Main Content -->
<main class="flex-grow-1">
  <!-- Your page content -->
  <div class="container-fluid p-4 d-flex flex-column align-items-center">
    <div>
      <div class="pb-5 d-flex flex-column">
        <h1 class="text-center pb-3">Explore the secrets of Japan</h1>
        <p class="text-center px-4">
          Read stories from people who traveled the country and uncovered hidden
          gems, or learn something new in some of the countries most popular
          destinations.
        </p>
      </div>

      <div class="row py-3 d-flex justify-content-center">
        <% blogs.forEach((blog) => { %>
        <div
          class="col-xl-3 col-lg-6 col-12 mb-4 d-flex justify-content-center"
        >
          <div class="card" style="width: 100%">
            <img
              class="card-img-top card-image"
              src="<%= blog.imagePath %>"
              alt="Card image cap"
            />
            <div class="card-body">
              <div class="d-flex flex-column justify-content-between">
                <h5 class="card-title" style="min-height: 3rem">
                  <%= blog.title %>
                </h5>
                <div class="d-flex flex-column mt-3">
                  <p><%= blog.author %></p>
                  <small><%= blog.date %></small>
                  <a href="/blog/<%= blog._id %>" class="btn btn-primary mt-3"
                    >Read Story</a
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
        <% }) %>
      </div>
    </div>

    <!-- Pagination -->
    <nav class="pt-5">
      <ul class="pagination">
        <% if (currentPage > 1) { %>
        <li class="page-item">
          <a class="page-link" href="/?page=<%= currentPage - 1 %>">Previous</a>
        </li>
        <% } else { %>
        <li class="page-item disabled">
          <a class="page-link" href="#">Previous</a>
        </li>
        <% } %> <% for (let i = 1; i <= totalPages; i++) { %>
        <li class="page-item <%= i === currentPage ? 'active' : '' %>">
          <a class="page-link" href="/?page=<%= i %>"><%= i %></a>
        </li>
        <% } %> <% if (currentPage < totalPages) { %>
        <li class="page-item">
          <a class="page-link" href="/?page=<%= currentPage + 1 %>">Next</a>
        </li>
        <% } else { %>
        <li class="page-item disabled">
          <a class="page-link" href="#">Next</a>
        </li>
        <% } %>
      </ul>
    </nav>
  </div>
</main>

<%- include("partials/footer") %>
